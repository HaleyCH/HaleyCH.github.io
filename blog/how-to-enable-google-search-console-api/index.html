<!doctype html><html itemscope lang=en itemtype=http://schema.org/WebPage><head><meta charset=utf-8><title>How to Enable Google Search Console API</title><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=5"><meta name=theme-name content="hugoplate"><link rel="shortcut icon" href=/images/favicon_hu153e445f2b0354ff20c7174a8c2b5f00_171489_32x0_resize_lanczos_3.png type=image/x-icon><link rel=icon href=/images/favicon_hu153e445f2b0354ff20c7174a8c2b5f00_171489_32x0_resize_lanczos_3.png type=image/x-icon><link rel=icon type=image/png sizes=16x16 href=/images/favicon_hu153e445f2b0354ff20c7174a8c2b5f00_171489_16x0_resize_lanczos_3.png><link rel=icon type=image/png sizes=32x32 href=/images/favicon_hu153e445f2b0354ff20c7174a8c2b5f00_171489_32x0_resize_lanczos_3.png><link rel=apple-touch-icon sizes=180x180 href=/images/favicon_hu153e445f2b0354ff20c7174a8c2b5f00_171489_180x0_resize_lanczos_3.png><link rel=manifest href=/manifest.webmanifest><meta name=msapplication-TileColor content="#ddd"><meta name=theme-color content="#ffffff"><base href=https://hluvmiku.tech/blog/how-to-enable-google-search-console-api/><meta name=generator content="Hugo 0.115.4"><meta name=keywords content="Google Cloud Platform,API,教程,Google Search Console API,Google Indexing API"><meta name=description content="本文详细介绍了如何在 Google Cloud Platform 上启用 Google Search API，包括创建项目、验证域名所有权、配置服务号等步骤。"><meta name=author content="HaleyCH"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://cdn.hluvmiku.tech/blog/202308301902385.png"><meta property="og:image" content="https://cdn.hluvmiku.tech/blog/202308301902385.png"><meta property="og:title" content="How to Enable Google Search Console API"><meta property="og:description" content="本文详细介绍了如何在 Google Cloud Platform 上启用 Google Search API，包括创建项目、验证域名所有权、配置服务号等步骤。"><meta property="og:type" content="website"><meta property="og:url" content="https://hluvmiku.tech/blog/how-to-enable-google-search-console-api/"><meta name=twitter:title content="How to Enable Google Search Console API"><meta name=twitter:description content="本文详细介绍了如何在 Google Cloud Platform 上启用 Google Search API，包括创建项目、验证域名所有权、配置服务号等步骤。"><script async src="https://www.googletagmanager.com/gtag/js?id=G-JYMQGQ6F6F"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-JYMQGQ6F6F",{anonymize_ip:!1})}</script><script>let indexURL="https://hluvmiku.tech/searchindex.json",includeSectionsInSearch=["blog"],no_results_for="未找到结果",empty_search_results_placeholder="输入内容进行搜索…"</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?07031aed06e0fa1f0bfe62119cd66c18",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><meta http-equiv=x-dns-prefetch-control content="on"><link rel=preconnect href=https://use.fontawesome.com crossorigin><link rel=preconnect href=//cdnjs.cloudflare.com><link rel=preconnect href=//www.googletagmanager.com><link rel=preconnect href=//www.google-analytics.com><link rel=dns-prefetch href=https://use.fontawesome.com><link rel=dns-prefetch href=//ajax.googleapis.com><link rel=dns-prefetch href=//cdnjs.cloudflare.com><link rel=dns-prefetch href=//www.googletagmanager.com><link rel=dns-prefetch href=//www.google-analytics.com><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//connect.facebook.net><link rel=dns-prefetch href=//platform.linkedin.com><link rel=dns-prefetch href=//platform.twitter.com><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;600&family=Signika:wght@500;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script><link href="/css/style.min.fbd149d026e718d5f9de842c06364d7fc576040d8d88d999dd946fa193922c94.css" integrity="sha256-+9FJ0CbnGNX53oQsBjZNf8V2BA2NiNmZ3ZRvoZOSLJQ=" rel=stylesheet></head><body><header class="header sticky top-0 z-30"><script type=text/javascript src="https://platform-api.sharethis.com/js/sharethis.js#property=64eb6d9f7973a500190b5977&product=inline-share-buttons&source=platform" async></script>
<script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><nav class="navbar container"><div class=order-0><a class="navbar-brand block" href=/>HaleyCH's Blog</a></div><input id=nav-toggle type=checkbox class=hidden>
<label for=nav-toggle class="order-3 cursor-pointer flex items-center lg:hidden text-dark dark:text-white lg:order-1"><svg id="show-button" class="h-6 fill-current block" viewBox="0 0 20 20"><title>Menu Open</title><path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0V0z"/></svg><svg id="hide-button" class="h-6 fill-current hidden" viewBox="0 0 20 20"><title>Menu Close</title><polygon points="11 9 22 9 22 11 11 11 11 22 9 22 9 11 -2 11 -2 9 9 9 9 -2 11 -2" transform="rotate(45 10 10)"/></svg></label><ul id=nav-menu class="navbar-nav order-3 hidden lg:flex w-full pb-6 lg:order-1 lg:w-auto lg:space-x-2 lg:pb-0 xl:space-x-8"><li class=nav-item><a class=nav-link href=/>主页</a></li><li class=nav-item><a class=nav-link href=/blog/>博客</a></li><li class=nav-item><a class=nav-link href=/categories/>归档</a></li><li class=nav-item><a class=nav-link href=/gossip/>杂谈</a></li><li class=nav-item><a class=nav-link href=/postgraduate/>考研日记</a></li><li class="nav-item nav-dropdown group relative"><span class="nav-link
inline-flex items-center">关于<svg class="h-4 w-4 fill-current" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg></span><ul class="nav-dropdown-list hidden group-hover:block lg:invisible lg:absolute lg:block lg:opacity-0 lg:group-hover:visible lg:group-hover:opacity-100"><li class=nav-dropdown-item><a class=nav-dropdown-link href=/authors/>关于我</a></li><li class=nav-dropdown-item><a class=nav-dropdown-link href=/about/>关于本站点</a></li></ul></li></ul><div class="order-1 ml-auto flex items-center md:order-2 lg:ml-0"><button aria-label=search class="border-border text-dark hover:text-primary dark:border-darkmode-border mr-5 inline-block border-r pr-5 text-xl dark:text-white" data-target=search-modal>
<i class="fa-solid fa-search"></i></button><div class="theme-switcher mr-5"><input id=theme-switcher data-theme-switcher type=checkbox>
<label for=theme-switcher><span class=sr-only>theme switcher</span>
<span><svg class="absolute left-[4px] top-[4px] z-10 opacity-100 dark:opacity-0" viewBox="0 0 56 56" fill="#fff" height="16" width="16"><path d="M30 4.6c0-1-.9-2-2-2a2 2 0 00-2 2v5c0 1 .9 2 2 2s2-1 2-2zm9.6 9a2 2 0 000 2.8c.8.8 2 .8 2.9.0L46 13a2 2 0 000-2.9 2 2 0 00-3 0zm-26 2.8c.7.8 2 .8 2.8.0.8-.7.8-2 0-2.9L13 10c-.7-.7-2-.8-2.9.0-.7.8-.7 2.1.0 3zM28 16A12 12 0 0016 28a12 12 0 0012 12 12 12 0 0012-12A12 12 0 0028 16zm23.3 14c1.1.0 2-.9 2-2s-.9-2-2-2h-4.9a2 2 0 00-2 2c0 1.1 1 2 2 2zM4.7 26a2 2 0 00-2 2c0 1.1.9 2 2 2h4.9c1 0 2-.9 2-2s-1-2-2-2zm37.8 13.6a2 2 0 00-3 0 2 2 0 000 2.9l3.6 3.5a2 2 0 002.9.0c.8-.8.8-2.1.0-3zM10 43.1a2 2 0 000 2.9c.8.7 2.1.8 3 0l3.4-3.5c.8-.8.8-2.1.0-2.9s-2-.8-2.9.0zm20 3.4c0-1.1-.9-2-2-2a2 2 0 00-2 2v4.9c0 1 .9 2 2 2s2-1 2-2z"/></svg><svg class="absolute left-[4px] top-[4px] z-10 opacity-0 dark:opacity-100" viewBox="0 0 24 24" fill="none" height="16" width="16"><path fill="#000" fill-rule="evenodd" clip-rule="evenodd" d="M8.2 2.2c1-.4 2 .6 1.6 1.5-1 3-.4 6.4 1.8 8.7a8.4 8.4.0 008.7 1.8c1-.3 2 .5 1.5 1.5v.1A10.3 10.3.0 0112.4 22 10.3 10.3.0 013.2 6.7c1-2 2.9-3.5 4.9-4.4z"/></svg></span></label></div><script>var darkMode=!1,themeSwitch;localStorage.getItem("theme")==="dark"?darkMode=!0:localStorage.getItem("theme")==="light"&&(darkMode=!1),darkMode&&document.documentElement.classList.toggle("dark"),themeSwitch=document.querySelectorAll("[data-theme-switcher]"),document.addEventListener("DOMContentLoaded",()=>{[].forEach.call(themeSwitch,function(e){e.checked=!!darkMode,e.addEventListener("click",()=>{document.documentElement.classList.toggle("dark"),localStorage.setItem("theme",document.documentElement.classList.contains("dark")?"dark":"light")})})})</script></div></nav></header><div class="search-wrapper search-modal" data-image=true data-description=true data-tags=true data-categories=true tabindex=-1 aria-hidden=true style=--color-primary:#121212><div class=search-wrapper-content><div class=search-input-body><label for=search-modal-input style=margin-top:-1px><span class=sr-only>search icon</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="18" width="18" class="search-icon" data-type="search"><path fill="currentcolor" d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8.0 45.3s-32.8 12.5-45.3.0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9.0 208S93.1.0 208 0 416 93.1 416 208zM208 352a144 144 0 100-288 144 144 0 100 288z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="18" width="18" class="search-reset" data-type="reset"><path fill="currentcolor" d="M256 512A256 256 0 10256 0a256 256 0 100 512zM175 175c9.4-9.4 24.6-9.4 33.9.0l47 47 47-47c9.4-9.4 24.6-9.4 33.9.0s9.4 24.6.0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6.0 33.9s-24.6 9.4-33.9.0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9.0s-9.4-24.6.0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6.0-33.9z"/></svg></label>
<input id=search-modal-input type=text data-search-input autocomplete=off aria-label=Search placeholder=搜索文章...></div><div class=search-wrapper-body><div class=search-result data-search-result></div><span class=search-result-empty>输入内容进行搜索…</span></div><div class=search-wrapper-footer><span><kbd><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentcolor" style="margin-top:-2px" viewBox="0 0 16 16"><path d="M3.204 11h9.592L8 5.519 3.204 11zm-.753-.659 4.796-5.48a1 1 0 011.506.0l4.796 5.48c.566.647.106 1.659-.753 1.659H3.204a1 1 0 01-.753-1.659z"/></svg></kbd><kbd><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentcolor" style="margin-top:1px" viewBox="0 0 16 16"><path d="M3.204 5h9.592L8 10.481 3.204 5zm-.753.659 4.796 5.48a1 1 0 001.506.0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 00-.753 1.659z"/></svg></kbd>to navigate</span>
<span><kbd><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentcolor" style="display:inline-block" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M14.5 1.5a.5.5.0 01.5.5v4.8a2.5 2.5.0 01-2.5 2.5H2.707l3.347 3.346a.5.5.0 01-.708.708l-4.2-4.2a.5.5.0 010-.708l4-4a.5.5.0 11.708.708L2.707 8.3H12.5A1.5 1.5.0 0014 6.8V2a.5.5.0 01.5-.5z"/></svg></kbd>to select</span>
<span class=search-result-info></span>
<span data-target=close-search-modal><kbd>ESC</kbd> to close</span></div></div></div><main><section class="section pt-7"><div class=container><div class="row justify-center"><article class=lg:col-10><div class=mb-10><img loading decoding=async src=https://cdn.hluvmiku.tech/blog/202308301902385.png alt="How to Enable Google Search Console API" class="mx-auto rounded img" height width></div><span id=busuanzi_container_page_pv>本文总阅读量<span id=busuanzi_value_page_pv></span>次</span><h1 class="h2 mb-4">How to Enable Google Search Console API</h1><h1 class="h4 mb-4">启用Google Search Console API指南与注意事项</h1><ul class=mb-4><li class="mr-4 inline-block"><a href=/authors/haleych/><i class="fa-regular fa-circle-user mr-2"></i>HaleyCH</a></li><li class="mr-4 inline-block"><i class="fa-regular fa-folder mr-2"></i>
<a href=/categories/%e6%8a%80%e6%9c%af%e5%88%86%e4%ba%ab/ class=ms-1>技术分享
,</a>
<a href=/categories/%e6%95%99%e7%a8%8b/ class=ms-1>教程</a></li><li class="mr-4 inline-block"><i class="fa-regular fa-clock mr-2"></i>
August 29, 2023</li></ul><div class="content mb-10"><details class=table-of-content><summary>目录</summary><nav id=TableOfContents><ol><li><a href=#1-前言>1 前言</a></li><li><a href=#2-google-search-api-介绍>2 Google Search API 介绍</a><ol><li><a href=#21-search-analytics>2.1 Search Analytics</a></li><li><a href=#22-站点地图>2.2 站点地图</a></li><li><a href=#23-协作平台>2.3 协作平台</a></li><li><a href=#24-网址检查>2.4 网址检查</a></li></ol></li><li><a href=#3-创建项目配置服务号与验证域名所有权>3 创建项目、配置服务号与验证域名所有权</a><ol><li><a href=#31为什么要创建项目>3.1为什么要创建项目？</a></li><li><a href=#32-创建项目>3.2 创建项目</a></li><li><a href=#33-配置服务号>3.3 配置服务号</a></li><li><a href=#34-验证域名所有权>3.4 验证域名所有权</a></li><li><a href=#35-将服务账号添加为网站所有者>3.5 将服务账号添加为网站所有者</a></li></ol></li><li><a href=#4-启用google-search-console-api>4 启用Google Search Console API</a></li><li><a href=#5-结语>5 结语</a></li></ol></nav></details><div class="notice tip"><div class=notice-head><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fillRule="evenodd" clipRule="evenodd" d="M12 0c6.6274.0 12 5.37258 12 12 0 6.6274-5.3726 12-12 12C5.37258 24 0 18.6274.0 12 0 5.37258 5.37258.0 12 0zm0 2.4C6.69807 2.4 2.4 6.69807 2.4 12c0 5.3019 4.29807 9.6 9.6 9.6 5.3019.0 9.6-4.2981 9.6-9.6.0-5.30193-4.2981-9.6-9.6-9.6zm3.9515 5.15147L9.6 13.9029 8.04853 12.3515C7.5799 11.8828 6.8201 11.8828 6.35147 12.3515c-.46863.4686-.46863 1.2284.0 1.697l2.4 2.4C9.2201 16.9172 9.9799 16.9172 10.4485 16.4485l7.2-7.19997C18.1172 8.7799 18.1172 8.0201 17.6485 7.55147c-.468599999999999-.46863-1.2284-.46863-1.697.0z" fill="currentcolor"/></svg><p>Tip</p></div><div class=notice-body><p><p>通过本文，你将了解：</p><ul><li>如何在Google Cloud Platform创建项目</li><li>如何验证域名所有权</li><li>如何启用Google Search API</li></ul></p></div></div><h2 id=1-前言>1 前言</h2><p>网络上很多有关教程都是转载来转载去，质量很差，我不想看。<br>于是我便跟着Google提供的文档一步步操作，最终成功了。<br>现在我将经验总结如下，希望能帮助到你。</p><h2 id=2-google-search-api-介绍>2 Google Search API 介绍</h2><p><div class="notice info"><div class=notice-head><svg width="20" height="20" viewBox="0 0 18 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.16109.993016C9.97971 1.03952 10.6611 1.42989 11.0721 2.22339l6.726 13.57801C18.4502 17.1739 17.4403 19.0208 15.7832 19.0474H2.23859C.730337 19.0234-.507163 17.3108.231587 15.7864L7.08321 2.20877c.12825-.24375.18675-.31425.29738-.44213.44475-.51562.93112-.791624 1.7805-.773624zM9.05046 2.49189C8.79284 2.50464 8.55696 2.64902 8.42834 2.87327 6.06134 7.36539 3.77946 11.9036 1.56546 16.4734 1.36071 16.9328 1.71209 17.5223 2.22621 17.547 6.74871 17.6201 11.2731 17.6201 15.7956 17.547 16.2925 17.523 16.666 16.953 16.459 16.4783c-2.1724-4.569-4.4119-9.10728-6.73729-13.60016C9.58446 2.63402 9.38309 2.48739 9.05046 2.49189z" fill="currentcolor"/><path d="M9.61323 13.2153H8.35773l-.138-6.16842h1.5375l-.144 6.16842zm-1.4355 1.8862C8.17773 14.8731 8.25161 14.6841 8.39973 14.5338 8.54823 14.3838 8.75036 14.3084 9.00648 14.3084 9.26298 14.3084 9.46511 14.3838 9.61323 14.5338 9.76136 14.6841 9.83561 14.8731 9.83561 15.1015 9.83561 15.3216 9.76323 15.5057 9.61923 15.6539 9.47486 15.802 9.27086 15.8762 9.00648 15.8762 8.74211 15.8762 8.53811 15.802 8.39373 15.6539 8.24973 15.5057 8.17773 15.3216 8.17773 15.1015z" fill="currentcolor"/></svg><p>Info</p></div><div class=notice-body><p><details><summary>我该使用`Google Search Console API`还是`Google Indexing API`?</summary></br><h4 id=google-search-console-api-和-google-indexing-api-都是关于google-search-console的api但是它们的功能不同><strong>Google Search Console API 和 Google Indexing API 都是关于Google Search Console的API，但是它们的功能不同。</strong></h4></br><p>如果你是想通过API<strong>获取网站访问信息等</strong>,那么你应该使用<code>Google Search Console API</code>。<br>如果你是想通过API<strong>提交网站给Google Search Console</strong>，那么你应该使用<code>Google Indexing API</code>。</p><p>但是本文讲解的:</p><ul><li>如何在Google Cloud Platform创建项目</li><li>如何验证域名所有权</li></ul><p>这两部分，对于<code>Google Search Console API</code>和<code>Google Indexing API</code>都是通用的。因为这些API都需要在Google Cloud Platform中创建项目，并且验证域名所有权。<br>并且在文末我也会附上激活<code>Google Indexing API</code>的方法。<br>请放心阅读。</p></p></div></div><div class="notice tip"><div class=notice-head><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fillRule="evenodd" clipRule="evenodd" d="M12 0c6.6274.0 12 5.37258 12 12 0 6.6274-5.3726 12-12 12C5.37258 24 0 18.6274.0 12 0 5.37258 5.37258.0 12 0zm0 2.4C6.69807 2.4 2.4 6.69807 2.4 12c0 5.3019 4.29807 9.6 9.6 9.6 5.3019.0 9.6-4.2981 9.6-9.6.0-5.30193-4.2981-9.6-9.6-9.6zm3.9515 5.15147L9.6 13.9029 8.04853 12.3515C7.5799 11.8828 6.8201 11.8828 6.35147 12.3515c-.46863.4686-.46863 1.2284.0 1.697l2.4 2.4C9.2201 16.9172 9.9799 16.9172 10.4485 16.4485l7.2-7.19997C18.1172 8.7799 18.1172 8.0201 17.6485 7.55147c-.468599999999999-.46863-1.2284-.46863-1.697.0z" fill="currentcolor"/></svg><p>Tip</p></div><div class=notice-body><p><code>Google Search API</code> 全称为 <code>Google Search Console API</code> ，是Google提供的一套API，可以通过API的方式获取Google Search Console的数据并进行部分操作。</p></div></div></p><p>以下为Google Search API全部功能，整理自<a href="https://developers.google.com/webmaster-tools/v1/api_reference_index?hl=zh-cn" target=_blank>官方文档</a>
：</p><h3 id=21-search-analytics>2.1 Search Analytics</h3><p>查询网站的流量数据。</p><table><thead><tr><th><strong>方法</strong></th><th><strong>HTTP 请求</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>查询</td><td><code>POST /sites/siteUrl/searchAnalytics/query</code></td><td>使用您定义的过滤条件和参数查询搜索流量数据。该方法会返回您定义的行键（维度）分组的零行或多行。您必须定义一个或多个日期的日期范围。</td></tr></tbody></table><p><strong>JSON POST 示例</strong>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>POST</span> <span style=color:#960050;background-color:#1e0010>https:</span><span style=color:#75715e>//www.googleapis.com/webmasters/v3/sites/https%3A%2F%2Fwww.example.com%2F/searchAnalytics/query
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;startDate&#34;</span>: <span style=color:#e6db74>&#34;2015-04-01&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;endDate&#34;</span>: <span style=color:#e6db74>&#34;2015-05-01&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;dimensions&#34;</span>: [<span style=color:#e6db74>&#34;country&#34;</span>,<span style=color:#e6db74>&#34;device&#34;</span>]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=22-站点地图>2.2 站点地图</h3><table><thead><tr><th><strong>方法</strong></th><th><strong>HTTP 请求</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>delete</td><td>DELETE /sites/siteUrl/sitemaps/feedpath</td><td>从此网站中删除站点地图。</td></tr><tr><td>get</td><td>GET /sites/siteUrl/sitemaps/feedpath</td><td>检索关于特定站点地图的信息。</td></tr><tr><td>list</td><td>GET /sites/siteUrl/sitemaps</td><td>列出为此网站提交的站点地图条目，或包含在站点地图索引文件中（如果请求中指定 sitemapIndex）。</td></tr><tr><td>提交</td><td>PUT /sites/siteUrl/sitemaps/feedpath</td><td>为网站提交站点地图。</td></tr></tbody></table><h3 id=23-协作平台>2.3 协作平台</h3><table><thead><tr><th><strong>方法</strong></th><th><strong>HTTP 请求</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>添加</td><td>PUT /sites/siteUrl</td><td>将网站添加到 Search Console 中的用户网站集。</td></tr><tr><td>delete</td><td>DELETE /sites/siteUrl</td><td>从用户的 Search Console 网站集中移除某个网站。</td></tr><tr><td>get</td><td>GET /sites/siteUrl</td><td>检索关于特定网站的信息。</td></tr><tr><td>list</td><td>GET /sites</td><td>列出用户的 Search Console 网站。</td></tr></tbody></table><h3 id=24-网址检查>2.4 网址检查</h3><table><thead><tr><th><strong>方法</strong></th><th><strong>HTTP 请求</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>index.inspect</td><td>POST /urlInspection/index:inspect</td><td>与 Google 索引中提供的网址相关的信息。</td></tr></tbody></table><p><strong>JSON POST 示例</strong>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>POST</span> <span style=color:#960050;background-color:#1e0010>https:</span><span style=color:#75715e>//searchconsole.googleapis.com/v1/urlInspection/index:inspect
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>{
</span></span><span style=display:flex><span><span style=color:#f92672>&#34;inspectionUrl&#34;</span>: <span style=color:#e6db74>&#34;https://www.example.com/mypage&#34;</span>,
</span></span><span style=display:flex><span><span style=color:#f92672>&#34;siteUrl&#34;</span>: <span style=color:#e6db74>&#34;https://www.example.com/&#34;</span>,
</span></span><span style=display:flex><span><span style=color:#f92672>&#34;languageCode&#34;</span>: <span style=color:#e6db74>&#34;en-US&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=3-创建项目配置服务号与验证域名所有权>3 创建项目、配置服务号与验证域名所有权</h2><h3 id=31为什么要创建项目>3.1为什么要创建项目？</h3><p>在<code>Google Cloud Platform</code>的逻辑中，你的一切操作都是在项目下进行的。<br>你的域名、站点、乃至API等都属于用户的资源，这些资源会在项目中进行管理。</p><p>简单来说，项目就是一个容器，Google在你发出请求后看容器里是否有请求的主体、请求方是否可以访问容器、请求方是否有权限对容器中的资源进行操作。满足上述条件后，Google才会对你的请求进行处理。</p><p>因此，想要调用Google SearchAPI，你<strong>必须创建一个项目</strong>，并在<strong>验证域名所有权</strong>后，才能通过API在项目中对资源进行操作。</p><h3 id=32-创建项目>3.2 创建项目</h3><ol><li>打开<a href=https://console.cloud.google.com/ target=_blank>Google Cloud Platform</a>
，并登录你的Google账号。</li><li>点击<strong>右上角</strong>的 <code>Select a project</code> ，然后点击 <code>New Project</code> 。创建一个新的项目。</li></ol><p>这样，你就创建了一个新的项目。</p><h3 id=33-配置服务号>3.3 配置服务号</h3><ol><li>打开<a href=https://console.cloud.google.com/iam-admin/serviceaccounts target=_blank>服务账号页面</a>
。</li><li>点击 <strong>add</strong> 创建服务帐号，并输入服务帐号的名称和说明。您可以使用默认服务帐号 ID，也可以选择其他唯一的帐号 ID。完成后，点击创建。</li><li>后面的 <strong>服务帐号权限（可选）</strong> 部分无需设置。点击继续。</li><li>在 <strong>向用户授予访问此服务帐号的权限</strong> 屏幕上，向下滚动到创建密钥部分。点击 add 创建密钥。</li><li>在随即显示的侧面板中，选择密钥的格式。建议使用 JSON。</li><li>点击创建。你的新公钥/私钥对随后会生成并下载到您的计算机。</li></ol><p>这样，你就创建了一个新的服务号，并下载了私钥。在完成本教程后，你可以用这个私钥访问你需要的API。<div class="notice warning"><div class=notice-head><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 9v5m0 5c-4.97056.0-9-4.0294-9-9 0-4.97056 4.02944-9 9-9 4.9706.0 9 4.02944 9 9 0 4.9706-4.0294 9-9 9zM10.0498 6V6.1L9.9502 6.1002V6H10.0498z" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg><p>Warning</p></div><div class=notice-body><p>请妥善保管你的私钥，你的私钥只能在创建时下载一次，如果丢失，你将无法再次下载。</p></div></div></p><h3 id=34-验证域名所有权>3.4 验证域名所有权</h3><p>你可以在<a href=https://search.google.com/search-console/ownership target=_blank>这里</a>
验证域名所有权。</p><h3 id=35-将服务账号添加为网站所有者>3.5 将服务账号添加为网站所有者</h3><p>在<a href=https://search.google.com/search-console/users target=_blank>这里</a>
将服务账号添加为网站所有者。</p><ol><li>选择添加用户。</li><li>在添加新用户对话框中，输入服务帐号的电子邮件地址。（在 <code>3.3</code> 步骤2中创建的服务帐号邮箱，形如<code>my-service-account@project-name.google.com.iam.gserviceaccount.com</code>）</li><li>将权限设置为“所有者”。</li><li>点击添加。</li></ol><p>这样，你就将服务账号添加为网站所有者了。</p><h2 id=4-启用google-search-console-api>4 启用Google Search Console API</h2><p>点击<a href=https://console.cloud.google.com/apis/library/searchconsole.googleapis.com target=_blank>这里</a>
即可启用Google Search Console API.</p><p>此外，点击<a href=https://console.cloud.google.com/apis/library/indexing.googleapis.com target=_blank>这里</a>
即可启用Google Indexing API.</p><p>这样，你就可以通过你的私钥调用Google Search Console API了。</p><h2 id=5-结语>5 结语</h2><p>通过本文，你应该已经了解了如何启用Google Search Console API，以及如何调用Google Search Console API。</p><p>在一开始写这篇文章的时候，我混淆了Google Search Console API和Google Indexing API的逻辑，写到一半才意识到网站资源、token、域名所有权验证之间的逻辑关系，于是我把整篇文章重写了一遍。<br>可谓教学相长了。</p></div><div class="row items-start justify-between"><div class="lg:col-5 mb-10 flex items-center lg:mb-0"><h5 class=mr-3>标签 :</h5><ul><li class=inline-block><a class="bg-theme-light hover:bg-primary dark:bg-darkmode-theme-light dark:hover:bg-darkmode-primary dark:hover:text-dark m-1 block rounded px-3 py-1 hover:text-white" href=/tags/google-cloud-platform/>Google cloud platform</a></li><li class=inline-block><a class="bg-theme-light hover:bg-primary dark:bg-darkmode-theme-light dark:hover:bg-darkmode-primary dark:hover:text-dark m-1 block rounded px-3 py-1 hover:text-white" href=/tags/api/>API</a></li><li class=inline-block><a class="bg-theme-light hover:bg-primary dark:bg-darkmode-theme-light dark:hover:bg-darkmode-primary dark:hover:text-dark m-1 block rounded px-3 py-1 hover:text-white" href=/tags/%e6%95%99%e7%a8%8b/>教程</a></li><li class=inline-block><a class="bg-theme-light hover:bg-primary dark:bg-darkmode-theme-light dark:hover:bg-darkmode-primary dark:hover:text-dark m-1 block rounded px-3 py-1 hover:text-white" href=/tags/google-search-console-api/>Google search console API</a></li><li class=inline-block><a class="bg-theme-light hover:bg-primary dark:bg-darkmode-theme-light dark:hover:bg-darkmode-primary dark:hover:text-dark m-1 block rounded px-3 py-1 hover:text-white" href=/tags/google-indexing-api/>Google indexing API</a></li></ul></div><div class="lg:col-4 flex items-center"><div class=sharethis-inline-share-buttons></div></div></div><div class=mt-20><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//hluvmiku-tech.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></article></div><div class="section pb-0"><h2 class="h3 mb-12">相关文章</h2><div class=row><div class=lg:col-4><div class="bg-body dark:bg-darkmode-body"><img loading decoding=async src=https://cdn.hluvmiku.tech//image/202312051936450.png alt="Build SysY Lex Analyzer With FLex" class="mb-6 w-full rounded img" height width><h4 class=mb-3><a href=/blog/build-sysy-lex-analyzer-with-flex/>Build SysY Lex Analyzer With FLex</a></h4><ul class=mb-4><li class="mr-4 inline-block"><a href=/authors/haleych/><i class="fa-regular fa-circle-user mr-2"></i>HaleyCH</a></li><li class="mr-4 inline-block"><i class="fa-regular fa-folder mr-2"></i>
<a href=/categories/%e5%ad%a6%e4%b9%a0/ class=ms-1>学习</a></li></ul><p class=mb-6>使用FLex搭建SysY词法分析器</p><a class="btn btn-outline-primary btn-sm" href=/blog/build-sysy-lex-analyzer-with-flex/>阅读更多</a></div></div><div class=lg:col-4><div class="bg-body dark:bg-darkmode-body"><img loading decoding=async src=https://cdn.hluvmiku.tech//image/202310102031515.png alt="Create Your Custom Email Domain With ICloud Plus" class="mb-6 w-full rounded img" height width><h4 class=mb-3><a href=/blog/create-your-custom-email-domain-with-icloud-plus/>Create Your Custom Email Domain With ICloud Plus</a></h4><ul class=mb-4><li class="mr-4 inline-block"><a href=/authors/haleych/><i class="fa-regular fa-circle-user mr-2"></i>HaleyCH</a></li><li class="mr-4 inline-block"><i class="fa-regular fa-folder mr-2"></i>
<a href=/categories/%e6%8a%80%e6%9c%af%e5%88%86%e4%ba%ab/ class=ms-1>技术分享
,</a>
<a href=/categories/apple/ class=ms-1>Apple</a></li></ul><p class=mb-6>使用iCloud+创建自定义邮箱域名</p><a class="btn btn-outline-primary btn-sm" href=/blog/create-your-custom-email-domain-with-icloud-plus/>阅读更多</a></div></div><div class=lg:col-4><div class="bg-body dark:bg-darkmode-body"><img loading decoding=async src=https://cdn.hluvmiku.tech/blog/202308281657027.JPG alt="Nintendo Switch Joycon Simulator" class="mb-6 w-full rounded img" height width><h4 class=mb-3><a href=/blog/nintendo-switch-simulator/>Nintendo Switch Joycon Simulator</a></h4><ul class=mb-4><li class="mr-4 inline-block"><a href=/authors/haleych/><i class="fa-regular fa-circle-user mr-2"></i>HaleyCH</a></li><li class="mr-4 inline-block"><i class="fa-regular fa-folder mr-2"></i>
<a href=/categories/%e6%b8%b8%e6%88%8f/ class=ms-1>游戏
,</a>
<a href=/categories/diy/ class=ms-1>Diy
,</a>
<a href=/categories/%e6%95%99%e7%a8%8b/ class=ms-1>教程</a></li></ul><p class=mb-6>低成本使用单片机模拟switch joycon手柄</p><a class="btn btn-outline-primary btn-sm" href=/blog/nintendo-switch-simulator/>阅读更多</a></div></div></div></div></div></section></main><footer class="bg-theme-light dark:bg-darkmode-theme-light"><div class=container><div class="row items-center py-10"><div class="lg:col-3 mb-8 text-center lg:mb-0 lg:text-left"><a class="navbar-brand inline-block" href=/>HaleyCH's Blog</a></div><div class="lg:col-6 mb-8 text-center lg:mb-0"><ul><li class="m-3 inline-block"><a href=/about/>关于本站点</a></li><li class="m-3 inline-block"><a href=/privacy-policy/>隐私政策</a></li></ul></div><div class="lg:col-3 mb-8 text-center lg:mb-0 lg:mt-0 lg:text-right"><ul class=social-icons><li><a target=_blank aria-label=github rel="nofollow noopener" href=https://github.com/HaleyCH><i class="fab fa-github"></i></a></li><li><a target=_blank aria-label=bilibili rel="nofollow noopener" href=https://space.bilibili.com/107766275><i class="fab fa-bilibili"></i></a></li><li><a target=_blank aria-label=mail rel="nofollow noopener" href=mailto:hluvmiku@gmail.com><i class="fa-regular fa-envelope"></i></a></li><li><a target=_blank aria-label=rss rel="nofollow noopener" href=https://hluvmiku.tech/index.xml><i class="fas fa-rss"></i></a></li></ul></div></div></div><div class="border-border dark:border-darkmode-border border-t py-7"><div class="text-light dark:text-darkmode-light container text-center"><p>Made with ❤️ by Haley.<br>Since 2023</p><p id=busuanzi_container_site_pv>本站总访问量<span id=busuanzi_value_site_pv></span>次</p><a href=https://beian.miit.gov.cn>浙ICP备2022026813号-2</a></div></div><script>function isSafari(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}if(isSafari()){console.log("Safari");var element=document.querySelector("#busuanzi_container_page_pv");element?(element.style.display="none",element.style.visibility="hidden",console.log(element)):console.log("Safari: busuanzi_container_page_pv not found")}else console.log("Not Safari")</script><script>quotes=["<div style='color:gray'>发挥才智，则锋芒毕露；凭借感情，则流于世俗；坚持己见，则多方掣肘。<span style='color:green;font-weight: bold'>总之，人世难居。</span></div>","<div style='color:gray'>「世界の中心でアイを叫んだけもの」</div>","<div style='color:gray'>爱上<span style='color:darkred;font-weight: bold'>一匹野马</span>，可我的家里没有<span style='color:green;font-weight: bold'>草原</span>。</div><div style='color:gray'>这让我感到绝望，董小姐。--<span style='color:black;font-weight: bold'>《董小姐》</span></div>","<div style='color:gray'>这是个拥挤的地方，而我却<span style='color:darkgreen;font-weight: bold'>很平凡</span>。</div>","<div style='color:gray'><span style='color:darkred;font-weight: bold'>Lolita,</span> light of my life, fire of my loins. <br>My sin, my soul. <br><span style='color:darkred;font-weight: bold'>Lo-lee-ta:</span> the tip of the tongue taking a trip of three steps down the palate to tap, at three, on the teeth. <span style='color:green;font-weight: bolder'>Lo. Lee. Ta.</span></div>","<div style='color:gray'>She was <span style='color:darkred;font-weight: bold'>Lo,</span> plain <span style='color:darkred;font-weight: bold'>Lo,</span> in the morning, standing four feet ten in one sock. <br>She was <span style='color:darkred;font-weight: bold'>Lola</span> in slacks. She was <span style='color:darkred;font-weight: bold'>Dolly</span> at school. <br>She was <span style='color:darkred;font-weight: bold'>Dolores</span> on the dotted line. <br><span style='color:darkred;font-weight: bolder'>But...</span></div>","<div style='color:gray'>“男女同权”的要义，不是让女人变得像男人一样，也不是让弱者变成强者。<br><span style='color:green;font-weight: bold'>“男女同权”追求的是，让弱者以弱者的姿态获得尊重。</spin></div>","<div style='color:gray'>金箍戴上之后，你再也不是个凡人，人世间的<span style='color:darkred;font-weight: bold'>情欲</span>再也不能沾半点，如果动心，这个金箍就会在你头上越收越紧，<span style='color:green;font-weight: bold'>苦不堪言。<span></div>"];var quote=quotes[Math.floor(Math.random()*quotes.length)];document.getElementById("quote").innerHTML=quote</script></footer><script crossorigin=anonymous integrity="sha256-df6tUhrDHLWOxj6GJeZpjflQXCX9AzMB71gZRKq0evQ=" src=/js/script.min.75fead521ac31cb58ec63e8625e6698df9505c25fd033301ef581944aab47af4.js></script>
<script>"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js")</script></body></html>